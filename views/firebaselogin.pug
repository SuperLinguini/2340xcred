extends layout
block content
  head
    meta(charset='UTF-8')
    title CS 2340
    script(src='https://www.gstatic.com/firebasejs/3.8.0/firebase.js')
    script.
      // Initialize Firebase
      var config = {
      apiKey: "AIzaSyDuupet_EdHPJzoXXOVVUW-ysZh2AJ1lhk",
      authDomain: "cs2340-fd203.firebaseapp.com",
      databaseURL: "https://cs2340-fd203.firebaseio.com",
      projectId: "cs2340-fd203",
      storageBucket: "cs2340-fd203.appspot.com",
      messagingSenderId: "704772592041"
      };
      firebase.initializeApp(config);

    script(src='https://cdn.firebase.com/libs/firebaseui/1.0.1/firebaseui.js')
    link(type='text/css', rel='stylesheet', href='https://cdn.firebase.com/libs/firebaseui/1.0.1/firebaseui.css')
    script.
      // FirebaseUI config.
      var uiConfig = {
        signInSuccessUrl: '/homepage',
        signInOptions: [
        // Leave the lines as is for the providers you want to offer your users.
        firebase.auth.GoogleAuthProvider.PROVIDER_ID,
        firebase.auth.FacebookAuthProvider.PROVIDER_ID,
        firebase.auth.TwitterAuthProvider.PROVIDER_ID,
        firebase.auth.GithubAuthProvider.PROVIDER_ID,
        firebase.auth.EmailAuthProvider.PROVIDER_ID
        ],
        // Terms of service url.
        tosUrl: '/auth/tos'
      };
      // Initialize the FirebaseUI Widget using Firebase.
      var ui = new firebaseui.auth.AuthUI(firebase.auth());
      // The start method will wait until the DOM is loaded.
      ui.start('#firebaseui-auth-container', uiConfig);
      var provider = new firebase.auth.GoogleAuthProvider();
      var provider = new firebase.auth.FacebookAuthProvider();
      var provider = new firebase.auth.TwitterAuthProvider();
      var provider = new firebase.auth.GithubAuthProvider();
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var displayName = user.displayName;
          var email = user.email;
          var emailVerified = user.emailVerified;
          var photoURL = user.photoURL;
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          var providerData = user.providerData;
          console.log("user is signed in");
        } else {
          console.log("user is signed out");
        }
      });

      var user = firebase.auth().currentUser;
      var name, email, photoUrl, uid, emailVerified;

      if (user != null) {
        name = user.displayName;
        email = user.email;
        photoUrl = user.photoURL;
        emailVerified = user.emailVerified;
        uid = user.uid;  // The user's ID, unique to the Firebase project. Do NOT use
                         // this value to authenticate with your backend server, if
                         // you have one. Use User.getToken() instead.
      }

      
  body
    h1 CS 2340 Water App
    #firebaseui-auth-container



