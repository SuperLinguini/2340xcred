extends navbar
block content
    html
      script.
          var qualityReports = [];
          var qReportData = firebase.database().ref('waterQualityReports');
          qReportData.on('value', function (snapshot) {
            qualityReports = [];
            snapshot.forEach(function (childSnapshot) {
              qualityReports.push(childSnapshot.val());
              // fill the data in collections
                var newReport = document.createElement('li');
                newReport.className = 'collection-item'

                var elt = document.createElement('p');
                elt.setAttribute('style', 'clear: both; float:right');
                var time = new Date(childSnapshot.val()['date']['time']);
                elt.innerHTML = 'Date: ' + time.toLocaleString();
                newReport.appendChild(elt);

                elt = document.createElement('p');
                elt.innerHTML = '#' + childSnapshot.val()['reportNumber'] + ' ' + childSnapshot.val()['reportName'];
                newReport.appendChild(elt);

                elt = document.createElement('p');
                elt.innerHTML = 'Lat/Lng: (' + Number(childSnapshot.val()['location']['latitude']).toFixed(3) + ', ' +
                    Number(childSnapshot.val()['location']['longitude']).toFixed(3) + ')';
                newReport.appendChild(elt);

                elt = document.createElement('p');
                elt.innerHTML = childSnapshot.val()['condition'] + ', ' + childSnapshot.val()['virusPPM'] + ', ' +
                    childSnapshot.val()['contaminantPPM'];
                newReport.appendChild(elt);

                document.getElementById('reportList').appendChild(newReport);
            });
          });
      head
        style.
          #map {
          height: 400px;
          width: 100%;
          }
      body
        ul.collection(style="width:60%", id='reportList')
